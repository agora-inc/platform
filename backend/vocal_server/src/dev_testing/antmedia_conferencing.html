<!DOCTYPE html>
<html>

    <head>
        <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
        <script src="js/webrtc_adaptor.js"></script>
    </head>

    <body>
        <div class="jumbotron">
        <div id="players">
        <div class="col-sm-3">
        <audio id="localVideo" autoplay ></audio> 
        </div>
        </div>
        
        <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
        <p>
        <input type="text" class="form-control" value="room1" id="roomName" placeholder="Type room name">
        </p>
        <p>
        <button onclick="joinRoom()" class="btn btn-info" disabled id="join_publish_button">Join Room</button>
        <button onclick="leaveRoom()" class="btn btn-info" disabled id="stop_publish_button">Leave Room</button>
        </p>
        
        <span class="label label-success" id="broadcastingInfo"
        style="font-size: 14px; display: none" style="display: none">Publishing</span>
        </div>
        </div>
        </body>

        <script>

            var mediaConstraints = {audio: true, video: false}

            var webRTCAdaptor = 
                  new WebRTCAdaptor(
                    {
                  websocket_url : websocketURL,
                  mediaConstraints : mediaConstraints,
                  peerconnection_config : pc_config,
                  sdp_constraints : sdpConstraints,
                  localVideoId : "localVideo",
                  debug : true,
                  callback : function(info, obj) {
                    if (info == "initialized") {
                    //called by JavaScript SDK when WebSocket is connected. 				
                    } else if (info == "joinedTheRoom") {
                    //called when this client is joined the room
                        //obj contains streamId field which is the stream id 
                            //that this client can use to publish to the room.
                    
                            //obj also contains streams array which is the list of streams in the room
                            //so that you can play these streams in here
                                 
                     } else if (info == "streamJoined") {
                            //called when a new stream is joined to the room
                            //obj.streamId field contains the stream id				
                            //you can request to play the stream. 
                    
                    } else if (info == "newStreamAvailable") {
                           //called after stream is requested to play and it's available to play right now
                           
                    } else if (info == "streamLeaved") {
                       //called when a stream is leaved from the room					
                    } 
                        else if (info == "publish_started") {
                       //called when stream publishing is started for this client					
                    } 
                        else if (info == "publish_finished") {
                    //called when stream publishing has finished for this client				
                    } 
                        else if (info == "leavedFromRoom") {
                           //called when this client is leaved from the room  
                    } 
                        else if (info == "closed") {
                    //called when websocket connection is closed				
                    } 
                        else if (info == "play_finished") {
                        //called when a stream has finished playing			
                    } 
                        else if (info == "streamInformation") {
                    //called when a stream information is received from the server				
                    }
                  },
                  callbackError : function(error, message) {
                        //some of the possible errors, NotFoundError, SecurityError,PermissionDeniedError
                  }
            });







</script>






</html>